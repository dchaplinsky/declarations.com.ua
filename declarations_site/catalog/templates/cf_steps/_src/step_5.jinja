{% if step_data and not step_data['empty'] %}
    <div class="table-responsive">
        <table class="table table-striped table-bordered card-table border corner-round dataTable">
            <thead>
                <tr>
                    <th class="doc-num-row-col">№</th>
                    <th>{{ _( 'table_header_common_info' ) }}</th>
                    <th>{{ _( 'table_header_emitent_info' ) }}</th>
                    <th>{{ _( 'table_header_v3_amount_info' ) }}</th>
                    <th>{{ _( 'table_header_v3_nominal_value_info' ) }}</th>
                    <th>{{ _( 'table_header_costDate' ) }}</th>
                    <th>{{ _( 'table_header_sources_info' ) }}</th>
                </tr>
            </thead>
            <tbody>
            {% for item in step_data %}
                {% set data_item = step_data[item] %}
                <tr>
                    <td>{# № #}
                        {{ loop.index }}
                    </td>
                    <td>
                        <div class="row mb-2 mr-1">
                            <div class="col-12">
                                <span class="color-1">{{ _('typeProperty') }}</span>
                                {% if data_item.typeProperty %}
                                    <span>{{ display_val(data_item.typeProperty) }}</span>
                                {% endif %}
                                {% if data_item.otherTypeProperty %}
                                    <span>{{ display_val(data_item.otherTypeProperty) }}</span>
                                {% endif %}
                                {% if data_item.subTypeProperty1 %}
                                    <span>{{ display_val(data_item.subTypeProperty1) }}</span>
                                {% endif %}
                                {% if data_item.subTypeProperty2 %}
                                    <span>{{ display_val(data_item.subTypeProperty2) }}</span>
                                {% endif %}
                            </div>
                            <div class="col-12">
                                <span class="color-1">{{ _('owningDate') }}</span>
                                <span>{{ display_val(data_item.owningDate) }}</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="row mb-2 mr-1">
                            {% if data_item.emitent %}
                                {% set emitent_info = personal_info %} {# todo: where is this data? #}
                                    {% if emitent_info %}
                                        {% if realty_item.subjectRelation %} {# todo: where is this data? #}
                                            <div class="col-12">
                                              <span>{{ display_val(realty_item.subjectRelation) }}</span>
                                            </div>
                                        {% endif %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('lastname') }}</span>
                                            <span>{{ display_val(emitent_info.lastname) }}</span>
                                        </div>
                                        <div class="col-12">
                                            <span class="color-1">{{ _('firstname') }}</span>
                                            <span>{{ display_val(emitent_info.firstname) }}</span>
                                        </div>
                                        <div class="col-12">
                                            <span class="color-1">{{ _('middlename') }}</span>
                                            <span>{{ display_val(emitent_info.middlename) }}</span>
                                        </div>
                                    {% endif%}
                            {% else %}
                                {% if data_item.emitent_type %}
                                    <div class="col-12">
                                        <span>{{ display_val(data_item.emitent_type) }}</span>
                                    </div>
                                {% endif %}

                                {% if data_item.emitent_type == _( 'source_ua_company' ) %}
                                    {% if data_item.emitent_ua_company_name %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ua_company_name') }}</span>
                                            <span>{{ display_val(data_item.emitent_ua_company_name) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ua_company_code %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ua_company_code') }}</span>
                                            <span>{{ display_val(data_item.emitent_ua_company_code) }}</span>
                                        </div>
                                    {% endif %}
                                {% elif data_item.emitent_type == _( 'source_foreign_citizen' ) %}
                                    {% if data_item.emitent_eng_lastname or data_item.emitent_eng_lastname_extendedstatus %}
                                        {% if data_item.emitent_eng_lastname %}
                                            <div class="col-12">
                                                <span class="color-1">{{ _('emitent_eng_lastname') }}</span>
                                                <span>{{ display_val(data_item.emitent_eng_lastname) }}</span>
                                            </div>
                                        {% endif %}
                                        {% if data_item.emitent_ukr_lastname %}
                                            <div class="col-12">
                                                <span class="color-1">{{ _('emitent_ukr_lastname') }}</span>
                                                <span>{{ display_val(data_item.emitent_ukr_lastname) }}</span>
                                            </div>
                                        {% endif %}
                                        {% if data_item.emitent_eng_firstname %}
                                            <div class="col-12">
                                                <span class="color-1">{{ _('emitent_eng_firstname') }}</span>
                                                <span>{{ display_val(data_item.emitent_eng_firstname) }}</span>
                                            </div>
                                        {% endif %}
                                        {% if data_item.emitent_ukr_firstname %}
                                            <div class="col-12">
                                                <span class="color-1">{{ _('emitent_ukr_firstname') }}</span>
                                                <span>{{ display_val(data_item.emitent_ukr_firstname) }}</span>
                                            </div>
                                        {% endif %}
                                        {% if data_item.emitent_eng_middlename %}
                                            <div class="col-12">
                                                <span class="color-1">{{ _('emitent_eng_middlename') }}</span>
                                                <span>{{ display_val(data_item.emitent_eng_middlename) }}</span>
                                            </div>
                                        {% endif %}
                                        {% if data_item.emitent_ukr_middlename %}
                                            <div class="col-12">
                                                <span class="color-1">{{ _('emitent_ukr_middlename') }}</span>
                                                <span>{{ display_val(data_item.emitent_ukr_middlename) }}</span>
                                            </div>
                                        {% endif %}
                                    {% else %}
                                        {% if data_item.emitent_eng_fullname %}
                                            <div class="col-12">
                                                <span class="color-1">{{ _('emitent_eng_fullname') }}</span>
                                                <span>{{ display_val(data_item.emitent_eng_fullname) }}</span>
                                            </div>
                                        {% endif %}
                                        {% if data_item.emitent_ukr_fullname %}
                                            <div class="col-12">
                                                <span class="color-1">{{ _('emitent_ukr_fullname') }}</span>
                                                <span>{{ display_val(data_item.emitent_ukr_fullname) }}</span>
                                            </div>
                                        {% endif %}
                                    {% endif %}
                                    {% if data_item.emitent_eng_birthday %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_eng_birthday') }}</span>
                                            <span>{{ display_val(data_item.emitent_eng_birthday) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_eng_taxNumber %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_eng_taxNumber') }}</span>
                                            <span>{{ display_val(data_item.emitent_eng_taxNumber) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_eng_regAddress %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_eng_regAddress') }}</span>
                                            <span>{{ display_val(data_item.emitent_eng_regAddress) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ukr_regAddress %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ukr_regAddress') }}</span>
                                            <span>{{ display_val(data_item.emitent_ukr_regAddress) }}</span>
                                        </div>
                                    {% endif %}

                                {% elif data_item.emitent_type == _( 'source_foreign_company' ) %}
                                    {% if data_item.emitent_eng_company_name %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_eng_company_name') }}</span>
                                            <span>{{ display_val(data_item.emitent_eng_company_name) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ukr_company_name %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ukr_company_name') }}</span>
                                            <span>{{ display_val(data_item.emitent_ukr_company_name) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_eng_company_code %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_eng_company_code') }}</span>
                                            <span>{{ display_val(data_item.emitent_eng_company_code) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_eng_company_address %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_eng_company_address') }}</span>
                                            <span>{{ display_val(data_item.emitent_eng_company_address) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ukr_company_address %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ukr_company_address') }}</span>
                                            <span>{{ display_val(data_item.emitent_ukr_company_address) }}</span>
                                        </div>
                                    {% endif %}
                                {% else %}
                                    {% if data_item.emitent_ua_lastname %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ua_lastname') }}</span>
                                            <span>{{ display_val(data_item.emitent_ua_lastname) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ua_firstname %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ua_firstname') }}</span>
                                            <span>{{ display_val(data_item.emitent_ua_firstname) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ua_middlename %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ua_middlename') }}</span>
                                            <span>{{ display_val(data_item.emitent_ua_middlename) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ua_birthday %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ua_birthday') }}</span>
                                            <span>{{ display_val(data_item.emitent_ua_birthday) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ua_taxNumber %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ua_taxNumber') }}</span>
                                            <span>{{ display_val(data_item.emitent_ua_taxNumber) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ua_regAddress %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ua_regAddress') }}</span>
                                            <span>{{ display_val(data_item.emitent_ua_regAddress) }}</span>
                                        </div>
                                    {% endif %}
                                    {% if data_item.emitent_ua_regAddress %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _('emitent_ua_actualAddress') }}</span>
                                            <span>{{ _('emitent_ua_sameRegLivingAddress') }}</span>
                                        </div>
                                    {% elif data_item.emitent_ua_sameRegLivingAddress %}
                                        <div class="col-12">
                                            <span class="color-1">{{ _( 'emitent_ua_actualAddress' ) }}</span>
                                            <span>{{ display_val(data_item.emitent_ua_actualAddress) }}</span>
                                        </div>
                                    {% endif %}
                                {% endif%}
                            {% endif%}
                        </div>
                    </td>
                    <td>
                        {{ display_val(data_item.amount) }}
                    </td>
                    <td>
                        {{ display_val(data_item.cost) }}
                    </td>
                    <td>
                        {{ display_val(data_item.costDate) }}
                    </td>
                    <td>
                        {% include 'cf_steps/_sources.jinja' with context %}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% else %}
    {{ _("У суб'єкта декларування чи членів його сім'ї відсутні об'єкти для декларування в цьому розділі.") }}
{% endif %}